(window.webpackJsonp=window.webpackJsonp||[]).push([[54],{622:function(e,a,t){"use strict";t.r(a);var r=t(0),s=t.n(r),i=t(287),n=t(286),o=t(288),c=t(1);t(10);function d(e,a,t,r,s,i,n){try{var o=e[i](n),c=o.value}catch(e){return void t(e)}o.done?a(c):Promise.resolve(c).then(r,s)}function l(e){return function(){var a=this,t=arguments;return new Promise((function(r,s){var i=e.apply(a,t);function n(e){d(i,r,s,n,o,"next",e)}function o(e){d(i,r,s,n,o,"throw",e)}n(void 0)}))}}i.d(o.a);var u={mounted:function(){this.calcular()},data:function(){return{csrf:document.querySelector('meta[name="csrf-token"]').getAttribute("content"),combo:"",poblacionMigrante:0,migrantesRegulados:0,migrantesNoRegulados:0,datos:{migrantes0:0,migrantes115:0,migrantes611:0,migrantes1217:0,migrantes1828:0,migrantes2959:0,migrantes60:0},ocupaciones:{id:0,descripcion:"",cont:0},poblacion:{migrantes:0,nomigrantes:0},series:[],series_barra:[],series_ocupaciones:[]}},methods:{calcular:function(){var e=this;return l(s.a.mark((function a(){var t;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return t={_token:e.csrf},a.next=3,(r=t,Object(c.a)().post("/informes/migrantes",r)).then((function(a){e.poblacionMigrante=100*a.data.total_migrantes/a.data.total_poblacion,e.migrantesRegulados=a.data.total_regulado,e.migrantesNoRegulados=a.data.total_no_regulado,e.datos=a.data.edades,e.ocupaciones=a.data.ocupaciones,e.series.push({migrantes:"Regulados",cantidad:e.migrantesRegulados}),e.series.push({migrantes:"No regulados",cantidad:e.migrantesNoRegulados}),e.series_barra.push({edad:"0+",migrantes:e.datos.migrantes0}),e.series_barra.push({edad:"1-5",migrantes:e.datos.migrantes115}),e.series_barra.push({edad:"6-11",migrantes:e.datos.migrantes611}),e.series_barra.push({edad:"12-17",migrantes:e.datos.migrantes1217}),e.series_barra.push({edad:"18-28",migrantes:e.datos.migrantes1828}),e.series_barra.push({edad:"29-59",migrantes:e.datos.migrantes2959}),e.series_barra.push({edad:"60+",migrantes:e.datos.migrantes60});for(var t=0;t<e.ocupaciones.length;t++)e.series_ocupaciones.push({ocupacion:e.ocupaciones[t].descripcion,migrantes:e.ocupaciones[t].cont});console.log(e.series_ocupaciones),e.grafica_de_pie(),e.grafica_barra(),e.grafica_de_pie_ocupaciones()})).catch((function(e){console.log(e)}));case 3:case"end":return a.stop()}var r}),a)})))()},grafica_de_pie:function(){i.d(o.a);var e=i.c("chartdiv",n.f);e.hiddenState.properties.opacity=0,e.legend=new n.e,e.data=this.series;var a=e.series.push(new n.g);a.dataFields.value="cantidad",a.dataFields.category="migrantes"},grafica_barra:function(){i.d(o.a);var e=i.c("chartbarra",n.j);e.data=this.series_barra;var a=e.xAxes.push(new n.a);a.dataFields.category="edad",a.renderer.labels.template.rotation=270,a.renderer.labels.template.hideOversized=!1,a.renderer.minGridDistance=20,a.renderer.labels.template.horizontalCenter="right",a.renderer.labels.template.verticalCenter="middle",a.tooltip.label.rotation=270,a.tooltip.label.horizontalCenter="right",a.tooltip.label.verticalCenter="middle";var t=e.yAxes.push(new n.h);t.title.text="Migrantes",t.title.fontWeight="bold";var r=e.series.push(new n.c);r.dataFields.valueY="migrantes",r.dataFields.categoryX="edad",r.name="Migrantes",r.tooltipText="{categoryX}: [bold]{valueY}[/]",r.columns.template.fillOpacity=.8;var s=r.columns.template;s.strokeWidth=2,s.strokeOpacity=1,s.stroke=i.b("#FFFFFF"),s.adapter.add("fill",(function(a,t){return e.colors.getIndex(t.dataItem.index)})),s.adapter.add("stroke",(function(a,t){return e.colors.getIndex(t.dataItem.index)})),e.cursor=new n.k,e.cursor.lineX.strokeOpacity=0,e.cursor.lineY.strokeOpacity=0},grafica_de_pie_ocupaciones:function(){i.d(o.a);var e=i.c("chartocupaciones",n.f);e.hiddenState.properties.opacity=0,e.legend=new n.e,e.data=this.series_ocupaciones;var a=e.series.push(new n.g);a.dataFields.value="migrantes",a.dataFields.category="ocupacion"},filtrar:function(){var e=this;return l(s.a.mark((function a(){var t;return s.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(t={_token:e.csrf,_tipo:e.combo},""!=e.combo){a.next=6;break}return a.next=4,IndicadoresService.spa(t).then((function(a){e.poblacion=a.data.poblacion,e.grafica_barras()})).catch((function(e){console.log(e)}));case 4:a.next=8;break;case 6:return a.next=8,IndicadoresService.filtrospa(t).then((function(a){e.poblacion=a.data.poblacion,e.grafica_barras()})).catch((function(e){console.log(e)}));case 8:case"end":return a.stop()}}),a)})))()}}},g=t(2),p=Object(g.a)(u,(function(){var e=this,a=e.$createElement,t=e._self._c||a;return t("div",{staticStyle:{"margin-top":"-4%"}},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-12"},[e._m(0),e._v(" "),t("div",{staticClass:"card"},[t("div",{staticClass:"card-body"},[t("div",{staticClass:"row"},[t("div",{staticClass:"col-lg-6 text-center"},[t("h5",[e._v("Población migrante")]),e._v(" "),t("vue-ellipse-progress",{attrs:{progress:e.poblacionMigrante,size:250,angle:-90,gap:10,legend:!0,legendValue:180,thickness:8,emptyThickness:"5%",dash:"60 0.9",color:"#068204",noData:!1,loading:!1,fontColor:"white",half:!1,"line-mode":"out 2"}},[t("p",{staticStyle:{"font-size":"45px","font-weight":"bold"},attrs:{slot:"legend-caption"},slot:"legend-caption"},[e._v("\n                  "+e._s(Math.round(e.poblacionMigrante))+"%\n                ")])])],1),e._v(" "),t("div",{staticClass:"col-lg-6 text-center"},[t("h5",[e._v("Estado migratorio")]),e._v(" "),t("div",{staticStyle:{width:"100%",height:"250px"},attrs:{id:"chartdiv"}}),e._v(" "),t("b",[e._v("\n                El\n                "+e._s(Math.round(100*e.migrantesNoRegulados/(e.migrantesNoRegulados+e.migrantesRegulados)))+"% de la poblacion migrante no se encuentran registrados como\n                migrantes.")])])])])]),e._v(" "),e._m(1),e._v(" "),e._m(2)])])])}),[function(){var e=this.$createElement,a=this._self._c||e;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("h3",[this._v("INFORME POBLACION MIGRANTE")])])])},function(){var e=this.$createElement,a=this._self._c||e;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12 text-center"},[a("h4",[this._v("Población migrante por grupo de edad")]),this._v(" "),a("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"chartbarra"}})])])])])},function(){var e=this.$createElement,a=this._self._c||e;return a("div",{staticClass:"card"},[a("div",{staticClass:"card-body"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-lg-12 text-center"},[a("h4",[this._v("Principales ocupaciones de los migrantes")]),this._v(" "),a("div",{staticStyle:{width:"100%",height:"400px"},attrs:{id:"chartocupaciones"}})])])])])}],!1,null,null,null);a.default=p.exports}}]);